<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OriginML Auth | Sign In</title>
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-W4R2D2M');
    </script>

    <!-- CSS -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.3.0/material.blue_grey-blue.min.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/fontawesome.min.css"
        integrity="sha512-xX2rYBFJSj86W54Fyv1de80DWBq7zYLn2z0I9bIhQG+rxIF6XVJUpdGnsNHWRa6AvP89vtFupEPDP8eZAtu9qA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Favicon and touch icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/svg+xml"
        href="https://storage.googleapis.com/oml-console-app-bucket/oml-favicon.svg" />

    <script th:if="${bot_detection_plugin == 'google-recaptcha-v3-am-bot-detection'}"
        th:src="${'https://www.google.com/recaptcha/api.js?render=' + bot_detection_configuration.siteKey + '&badge=bottomleft'}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="./style_login.css" />
</head>

<body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W4R2D2M" height="0" width="0"
            style="display: none; visibility: hidden"></iframe></noscript>
    <div class="mdl-layout__container">
        <header class="header">
            <div class="header-content">
                <div class="header-logo">
                    <img src="https://www.pneuma.club/pneuma.svg" alt="Pneuma logo" />
                </div>
                <ul class="header-menu">
                    <li class="menu-item">
                        <a href="https://www.pneuma.club">Contact Us</a>
                    </li>
                    <li class="menu-item">
                        <a href="https://www.pneuma.club/about">Search Flights</a>
                    </li>
                    <li class="menu-item">
                        <a href="https://www.pneuma.club/contact">Sign Up | Login</a>
                    </li>
                </ul>
            </div>
        </header>
        <div class="mdl-layout mdl-js-layout">
            <h4 class="login-greet">Welcome back</h4>
            <p class="login-msg">Tell us a little bit more about yourself</p>
            <div class="login-container">
                <div class="login-form">
                    <div class="flex-container">
                        <div class="login-form-title">
                            <label>Sign in</label>
                            <span>to continue to <span th:text="${domain.name}"></span></span>
                        </div>
                        <div>
                            <img class="originImage" width="150"
                                src="https://storage.googleapis.com/oml-console-app-bucket/originml-logo-default.svg"
                                alt="OriginML" />
                        </div>
                    </div>
                    <form id="form" role="form" th:action="${action}" method="post">
                        <div class="login-form-content">
                            <div class="input-textfield">
                                <label for="username">Email</label>
                                <input type="text" id="username" name="username" autofocus="autofocus" required />
                            </div>
                            <div class="input-textfield">
                                <label for="password">Password</label>
                                <input type="password" id="password" name="password" autocomplete="current-password"
                                    style="width: 89%; padding-left: 30px" required />
                                <img src="https://storage.googleapis.com/oml-console-app-bucket/eye-solid.svg"
                                    alt="eye-show" width="16" height="16" id="showPass"
                                    class="togglePasswordEye showPassword" />
                                <img src="https://storage.googleapis.com/oml-console-app-bucket/eye-slash-solid.svg"
                                    id="hidePass" alt="eye-close" width="16" height="16"
                                    class="hidePassword showPassword" />
                            </div>
                            <div th:if="${error}" class="login-error-info">
                                <span>
                                    <span class="error" th:text="${error}"></span>
                                    <small class="error_description"
                                        th:text="*{error_description}?: 'Wrong user or password'"></small>
                                </span>
                            </div>
                        </div>

                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

                        <input type="hidden" th:name="client_id" th:value="${param.client_id}" />

                        <input type="hidden" th:if="${bot_detection_plugin == 'google-recaptcha-v3-am-bot-detection'}"
                            th:id="${bot_detection_configuration.get('tokenParameterName')}"
                            th:name="${bot_detection_configuration.get('tokenParameterName')}" />

                        <div class="login-form-actions">
                            <button class="mdl-button custom-signin" type="submit">
                                Sign in
                            </button>
                        </div>
                        <div class="login-form-additional-actions">
                            <div th:if="${allowForgotPassword}">
                                <a th:href="${forgotPasswordAction}">Forgot Password?</a>
                            </div>
                            <div th:if="${allowRegister && !identifierFirstLoginEnabled}">
                                <a th:href="${registerAction}">Sign up</a>
                            </div>
                        </div>
                        <div th:if="${allowPasswordless && !identifierFirstLoginEnabled}"
                            class="login-form-additional-actions">
                            <a th:href="${passwordlessAction}">Sign in with fingerprint, device or security key</a>
                        </div>
                    </form>
                    <div th:if="${socialProviders and !socialProviders.empty}" class="social-login-buttons">
                        <div class="signup-or-separator">
                            <h6 class="text">or continue with</h6>
                            <hr />
                        </div>
                        <div class="mdl-social-button">
                            <a th:href="${authorizeUrls.get(socialProvider.getId())}"
                                class="'social-link-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect btn-' + ${socialProvider.getType()}"
                                th:each="socialProvider : ${socialProviders}">
                                <span th:if="${socialProvider.getType()} == 'google'" class="socialIconContainer gap9">
                                    <img width="18" class="google-icon"
                                        src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" />
                                    <span th:text="${socialProvider.getName()}"></span>
                                </span>
                                <span th:if="${socialProvider.getType()} == 'linkedin'"
                                    class="socialIconContainer gap6">
                                    <img width="25" class="google-icon"
                                        src="https://storage.googleapis.com/oml-console-app-bucket/icons8-linkedin.svg" />
                                    <span th:text="${socialProvider.getName()}"></span>
                                </span>
                            </a>

                            <!-- <a
                  href="https://accounts.google.com/o/oauth2/v2/auth?client_id=192643134735-hr655jov68tdtlii740b3rj2s9n2t1mp.apps.googleusercontent.com&amp;response_type=code&amp;scope=openid profile email&amp;state=eyJraWQiOiJkZWZhdWx0LWdyYXZpdGVlLUFNLWtleSIsInR5cCI6IkpXVCIsImFsZyI6IkhTMjU2In0.eyJwIjoiMTQwZGE5MDctOTAxZC00MjUzLThkYTktMDc5MDFkZDI1MzZkIiwicSI6ImNsaWVudF9pZD1ncmF2aXRlZSZyZXNwb25zZV90eXBlPWNvZGUmcmVkaXJlY3RfdXJpPWh0dHBzJTNBJTJGJTJGY29uc29sZS5vcmlnaW5tbC5jbG91ZCUyRnZhbGlkYXRlLXRva2VuIn0.wC8pagYfF8iEJXZRfTa3OtuKuT0uw7sr3OPpMaAR-o8&amp;redirect_uri=https://auth.iam.originml.cloud/originml/login/callback"
                  class="social-link-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect btn-google"
                >
                  <span class="socialIconContainer gap9">
                    <img
                      width="18"
                      class="google-icon"
                      src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"
                    />
                    <span>Google</span>
                  </span> </a
                ><a
                  href="https://www.linkedin.com/oauth/v2/authorization?client_id=86niueh0as7rsn&amp;redirect_uri=https://auth.iam.originml.cloud/originml/login/callback&amp;response_type=code&amp;scope=r_emailaddress%20r_liteprofile&amp;state=eyJraWQiOiJkZWZhdWx0LWdyYXZpdGVlLUFNLWtleSIsInR5cCI6IkpXVCIsImFsZyI6IkhTMjU2In0.eyJwIjoiZTY2MjEzNDMtNjQ2OS00OWFiLWEyMTMtNDM2NDY5MTlhYjg4IiwicSI6ImNsaWVudF9pZD1ncmF2aXRlZSZyZXNwb25zZV90eXBlPWNvZGUmcmVkaXJlY3RfdXJpPWh0dHBzJTNBJTJGJTJGY29uc29sZS5vcmlnaW5tbC5jbG91ZCUyRnZhbGlkYXRlLXRva2VuIn0.olfZXfx_ElRb8JqPgOB5AmXmna9QWC3EqOxFZqX0Mx4"
                  class="social-link-button linkedin-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
                >
                  <span class="socialIconContainer gap6">
                    <img
                      width="25"
                      class="google-icon"
                      src="https://storage.googleapis.com/oml-console-app-bucket/icons8-linkedin.svg"
                    />
                    <span>Linkedin</span>
                  </span>
                </a> -->
                        </div>
                    </div>
                    <div class="login-form-additional-actions" th:if="${allowPasswordless  && hideLoginForm}">
                        <a th:href="${passwordlessAction}">Sign in with fingerprint, device or security key</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--[if lt IE 10]>
      <script src="assets/js/placeholder.js"></script>
    <![endif]-->
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.5.10/js/material.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script th:inline="javascript">
        $(document).ready(function () {
            $('.mdl-textfield__input').focus(function () {
                if (!this.value) {
                    $(this).prop('required', true);
                    $(this).parent().addClass('is-invalid');
                }
            });

            $('.mdl-button')
                .filter(':button')
                .click(function (event) {
                    /*[# th:if="${bot_detection_plugin == 'google-recaptcha-v3-am-bot-detection'}"]*/
                    event.preventDefault();
                    grecaptcha.ready(function () {
                        grecaptcha
                            .execute('6LeEx58fAAAAANnYJ2hcg7QqnyBzTRgSx1edBpPB', {
                                action: 'submit',
                            })
                            .then(function (token) {
                                $('#' + 'X-Recaptcha-Token').val(token);
                                $('#form').unbind('submit').submit();
                            });
                    });
                    /*[/]*/

                    $(this).siblings('.mdl-textfield').addClass('is-invalid');
                    $(this)
                        .siblings('.mdl-textfield')
                        .children('.mdl-textfield__input')
                        .prop('required', true);
                });

            $('.showPassword').on('click', function () {
                var input = $('#password');
                var show = $('#showPass');
                var hide = $('#hidePass');
                if (input.attr('type') === 'password') {
                    input.attr('type', 'text');
                    hide.removeClass('hidePassword').addClass('togglePasswordEye');
                    show.removeClass('togglePasswordEye').addClass('hidePassword');
                } else {
                    input.attr('type', 'password');
                    hide.removeClass('togglePasswordEye').addClass('hidePassword');
                    show.removeClass('hidePassword').addClass('togglePasswordEye');
                }
            });
        });
    </script>
    <script th:if="${rememberDeviceIsActive && deviceIdentifierProvider == 'FingerprintJsV3Pro'}"
        th:src="@{https://storage.googleapis.com/oml-console-app-bucket/fingerprintjs-v3-pro.js}"></script>
    <script th:if="${rememberDeviceIsActive && deviceIdentifierProvider == 'FingerprintJsV3Pro'}">
        $(document).ready(function () {
            loadFingerprintJsV3Pro(
                '[[${fingerprint_js_v3_pro_browser_token}]]',
                '[[${fingerprint_js_v3_pro_region}]]',
                (fp) => {
                    if (fp.visitorId) {
                        $('#form').append(
                            '<input type="hidden" name="deviceId" value="' +
                            fp.visitorId +
                            '"/>'
                        );
                    }
                }
            );
        });
    </script>

    <script th:if="${rememberDeviceIsActive && deviceIdentifierProvider == 'FingerprintJsV3Community'}"
        th:src="@{https://storage.googleapis.com/oml-console-app-bucket/fingerprintjs-v3.js}"></script>
    <script th:if="${rememberDeviceIsActive && deviceIdentifierProvider == 'FingerprintJsV3Community'}">
        $(document).ready(function () {
            loadFingerprintJsV3((fp) => {
                if (fp.visitorId) {
                    $('#form').append(
                        '<input type="hidden" name="deviceId" value="' +
                        fp.visitorId +
                        '"/>'
                    );
                }
                if (
                    fp.components &&
                    fp.components.platform &&
                    fp.components.platform.value
                ) {
                    $('#form').append(
                        '<input type="hidden" name="deviceType" value="' +
                        fp.components.platform.value +
                        '"/>'
                    );
                }
            });
        });
    </script>
</body>

</html>